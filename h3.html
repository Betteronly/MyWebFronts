<!DOCTYPE html>
<html>

<body>
	<div style="text-align:center;">
		<button onclick="playPause()">Play/Pause</button>
		<button onclick="makeBig()">Bigger</button>
		<button onclick="makeSmall()">Smaller</button>
		<br/>

		<video id="v1" width="320" height="240" style="margin-top:15px" controls>
			<!--<video id="v1" width="320" height="240" style="margin-top:15px" controls autoplay="false" loop="false" preload="auto">-->
			<!--<source src="./video/movie.ogg" type="video/ogg">
			<source src="./video/movie.mp4" type="video/mp4">-->
			Yor browser does not support the video tag.
		</video>

		<button id='picture'>PICTURE</button>
		<canvas id="canvas" width="640" height="480"></canvas>

	</div>

	<script type="text/javascript">
		///////////// h2 source
	var myv1=document.getElementById("v1");
	function playPause(){
		if (myv1.paused){
			myv1.play();
		} else {
			myv1.pause();
		}
	}

	function makeBig(){
		myv1.width=840;
	}
	
	function makeSmall(){
		myv1.width=240;
	}
	
	
  ///////////// h3 source
	// var myv1 = document.getElementById("v1");
	var context = canvas.getContext("2d");
	var errocb = function () {
		console.log('sth wrong!');
	};

	if (navigator.getUserMedia) {
		// 标准的API
		navigator.getUserMedia({ "video": true }, function (stream) {
			myv1.src = stream;
			myv1.play();
		}, errocb);
	} else if (navigator.webkitGetUserMedia) {
		// WebKit　核心API
		navigator.webkitGetUserMedia({ "video": true }, function (stream) {
			myv1.src = window.webkitURL.createObjectURL(stream);
			myv1.play();
		}, errocb);
	}

	document.getElementById("picture").addEventListener("click", function () {
		context.drawImage(video, 0, 0, 640, 480);
	});
	
	</script>
</body>

</html>